<!DOCTYPE html>
<meta charset="utf-8">

<style>
    .axis path {
        display: none;
    }

    .axis line {
        stroke-opacity: 0.3;
        shape-rendering: crispEdges;
    }

    .zoom {
        fill: none;
        pointer-events: all;
    }

    .view {
        fill: url(#gradient);
        stroke: #000;
    }

</style>

<svg width="960" height="500"></svg>

<script src="https://d3js.org/d3.v4.0.0-alpha.44.min.js"></script>

<script>
    var svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height"),
        radius = 2.5,
        transform = d3.zoomIdentity;

    //var points = d3.range(2000).map(phyllotaxis(10));
    var pointX = [0.000274081, 0.000946304, 0.000509551, 0.001271148, 0.002350187, 0.000362166, 0.002306871, -0.000168083, 0.001078542, 0.001925812, 0.000435875, 0.000473061, 0.001025923, 0.001118104, 0.001829474, 0.002153243, 0.001655014, 0.000861833, -0.000031479, 0.001296625, 0.000288898, 0.000364554, -0.000722149, 0.000935117, 0.001532022, 0.001054921, 0.002171612, -0.000294760, 0.000266497, 0.000881735, 0.000359653, 0.000224371, -0.000169454, 0.001989045, 0.001051168, 0.001077679, 0.001050013, 0.000756338, 0.001007999, 0.000491653, 0.001405577, 0.001866726, 0.002266788, 0.000831417, 0.001070364, 0.001657011, 0.001207606, 0.001311468, -0.000115962, 0.001214420, 0.001196473, 0.001360639, 0.001760390, 0.000698220, 0.002221084, 0.001955061, 0.000100627, 0.001278441, 0.001398472, 0.001368237, 0.001756925, 0.001058023, 0.002618180, 0.000907875, 0.000965243, 0.000872351, 0.000824518, -0.000657198, 0.000447446, 0.002840287, 0.001093105, -0.000055089, 0.000557197, 0.000837715, 0.000778777, 0.000934459, 0.000751694, 0.001137780, 0.001346895, 0.002417203, 0.002464101, 0.001241149, 0.002298214, 0.001377630, -0.000037067, 0.003233162, 0.003037560, 0.001718115, 0.002192531, 0.002849528, 0.001612714, 0.001293229, 0.001617846, 0.001914108, 0.000727494, 0.001392411, 0.001182054, -0.000472059, 0.000441082, 0.001255336, 0.000820191, -0.000108601, 0.002184857, 0.000945742, 0.000701433, 0.000012320, -0.000171645, 0.000853858, 0.000232271, 0.001457789, 0.000973890, 0.000930919, 0.001309485, 0.001568732, 0.000840094, 0.000972205, 0.001222079, 0.001458299, 0.001907788, 0.001179535, 0.000320526, 0.001780222, 0.002058161, -0.000252933, 0.000839928, 0.000947668, 0.000737760, 0.000870267, 0.001471081, 0.001138365, 0.001910627, 0.001742595, 0.002108395, 0.002118270, 0.001814052, 0.001628187, 0.001461779, 0.001450159, 0.002672044, 0.001069426, 0.000707337, 0.001813251, 0.001691228, 0.001871748, 0.000669300, 0.001805915, 0.000801744, 0.000834434, 0.000479356, 0.001082181, 0.000269336, 0.001022190, 0.001027322, 0.001517249, 0.001305605, 0.002891921, 0.000715667, 0.000770063, 0.000104056, 0.000356143, 0.000013517, 0.000381698, 0.000785362, 0.001283349, 0.000007938, 0.000312356, 0.001113974, 0.000771256, 0.001184298, 0.001129606, 0.000410108, 0.001733749, 0.000065247, 0.001073800, 0.000626540, -0.000489729, 0.001468763, 0.001283871, 0.000378349, 0.001451733, 0.001070792, 0.001894309, 0.002288078, 0.001163393, 0.000607258, 0.000713824, -0.000813730, 0.001873150, 0.001077889, -0.000494608, 0.001382405, 0.000474024, -0.000057438, 0.002107474, 0.001370529, 0.001407656, 0.001338649, 0.000906386, 0.000250245, -0.000882054, 0.000534774, 0.001086106, 0.000895030, -0.000190616, -0.000182715, 0.000320884, 0.001236600, 0.001025366, 0.000444898, 0.000986396, 0.000613813, 0.001076476, 0.001190373, -0.000080380, 0.001487585, 0.000041941, -0.000793002, 0.000426221, 0.001857257, 0.000225474, 0.001426087, 0.000154158, 0.001855300, 0.000041056, -0.000415334, 0.000076690, 0.001802479, 0.000266700, 0.001158044, 0.001082286, 0.000034235, 0.001161756, 0.000439492, 0.000317751, 0.001021075, 0.000568541, 0.000394886, 0.000194552, 0.002324622, -0.000314655, 0.000564873, 0.000969815, 0.001107054, 0.000756879, 0.001000739, 0.001648452, 0.001783737, -0.001069531, 0.001042306, 0.000723903, 0.000452348, 0.000731563, 0.000982207, 0.001368479, 0.001989775, 0.000855729, 0.000758794, 0.000983670, 0.001130824, 0.000257303, -0.000378181, 0.001042234, 0.001715066, 0.000186586, 0.001249444, 0.001864591, 0.000514547, 0.000881316, 0.001293935, 0.001801151, 0.000645678, 0.000655705, 0.001538930, 0.002010356, 0.001012854, 0.001795405, -0.000244861, -0.000106442, 0.000719619, 0.000461063, 0.001988872, 0.002153758, 0.000859748, 0.000344684, 0.002015922, 0.001394044, -0.000340179, 0.002587634, 0.000841291, 0.000996452, 0.002458420, 0.000318443, -0.000089334, 0.001337394, 0.000553990, 0.001430964, 0.000746977, 0.001039359, 0.000186873, -0.000086665, 0.001664207, -0.000468654, 0.000760154, 0.001694365, 0.001857660, 0.001039889, 0.001130159, 0.000685690, 0.000950694, 0.000912870, 0.002051389, 0.000223040, 0.002779701, 0.001533631, 0.001111057, 0.000317182, -0.000002322, 0.002720921, 0.000294539, 0.002011559, 0.001659827, 0.000097165, 0.000679209, 0.002194026, 0.001201035, 0.001334842, 0.000630751, 0.000025104, 0.000888052, 0.000301882, 0.001827253, 0.000055443, 0.001181060, 0.000579928, 0.001200373, 0.000769243, 0.001249610, -0.000504677, 0.000958391, 0.000586232, 0.001081042, 0.001033606, 0.000832966, 0.000108927, 0.000868832, 0.001507940, 0.000079522, 0.000678604, 0.001261846, 0.000489118, -0.000309822, 0.001564426, 0.000998258, -0.000202916, 0.000574041, 0.000941049, -0.000731113, 0.001265704, 0.000617464, 0.000140743, 0.000241065, 0.000620412, 0.000570908, 0.000744551, 0.000277049, 0.000511603, 0.000623389, 0.001991773, -0.000824680, 0.001718891, 0.001597165, -0.000576997, 0.001367084, 0.001373713, 0.000369568, 0.001593759, 0.000673681, 0.001790389, 0.000391923, 0.001699632, 0.000620501, 0.002031250, -0.001502398, 0.001472626, 0.000280319, 0.001141387, 0.000419403, 0.000058942, 0.002100166, 0.000169003, 0.001096080, 0.001460178, 0.001900360, 0.002117400, 0.002392866, 0.001433890, 0.000437379, 0.000176767, 0.001091573, 0.000072882, 0.000342448, 0.000972217, 0.001607384, 0.000678569, 0.000884974, 0.001144051, 0.000969279, 0.001756783, 0.000878888, 0.001420669, 0.001540872, -0.000006636, -0.000192873, 0.000861288, 0.001067501, 0.000732604, 0.001093726, 0.001467689, 0.001381553, 0.000972719, 0.002543656, 0.000391190, -0.000215583, 0.001501281, 0.001132120, 0.000077536, 0.001553944, 0.000580033, 0.000351531, 0.000240324, 0.000291567, 0.000186821, -0.001042465, 0.000467812, -0.000124839, 0.000722350, 0.001184166, 0.000953448, 0.000208033, 0.000907186, 0.000488952, 0.000448624, 0.000465629, 0.000737818, 0.000864332, -0.000338193, 0.000332104, -0.000373110, 0.000101511, 0.000664762, -0.000301592, 0.000811040, 0.001396244, 0.001144230, 0.000953479, 0.000441921, -0.000158803, -0.000004311, -0.000260889, 0.000055449, 0.001446529, 0.000305359, 0.000588715, 0.000342862, 0.001621585, 0.000157104, 0.001298922, 0.000764540, 0.001756510, -0.000017007, -0.001043674, 0.001296915, 0.001416893, 0.000351355, 0.000316464, 0.001076941, 0.001023488, 0.000057436, 0.000450760, 0.000457248, 0.000752052, 0.000869627, 0.001135415, 0.001039966, 0.000610847, 0.000502411, 0.000388605, 0.000977310, 0.001177163, 0.001186705, -0.000079860, 0.001168204, 0.001477598, 0.000857316, 0.002817271, -0.000659574, 0.000548483, 0.000856523, 0.001613615, 0.000554887, 0.000439591, 0.001884569, 0.000164213, 0.000807957, 0.001675752, 0.001660313, 0.000834240, 0.000382547, 0.000736795, 0.002215640, 0.000053489, 0.000931809, 0.001493158, 0.000189683, -0.000124118, 0.001031611, 0.000821424, 0.000617399, 0.000407012, 0.001479453, 0.000702394, -0.000008631, 0.001358379, 0.000938154, 0.000631010, 0.000804991, 0.000731189, 0.001113739, 0.001664730, 0.000883869, 0.001435783, 0.001050250, 0.001544527, -0.000274960, 0.001377993, 0.001843041, 0.000194768, 0.001534714, 0.000612564, 0.001158980, -0.000663617, 0.001598119, 0.000828031, 0.000304604, 0.001324989, 0.002968842, 0.000123664, 0.000538565, 0.000264603, 0.000325450, 0.002491806, 0.000793513, 0.001581226, -0.001115055, 0.001409789, 0.000978411, -0.000181684, 0.000544025, 0.000731189, 0.000698527, 0.000483802, 0.002108480, 0.000689802, 0.001157156, 0.000666173, 0.000255726, -0.000336525, 0.000661512, 0.001421310, -0.000161598, 0.000368636, 0.000774660, 0.001703076, 0.001139977, 0.000688238, 0.001677783, 0.000884458, 0.001017289, 0.001364572, 0.001141130, 0.001300530, 0.001594439, -0.000546131, 0.000235632, -0.000011507, 0.001467988, 0.000991556, 0.000418885, 0.000850072, 0.002195398, 0.000391234, -0.000067560, 0.001762392, 0.001119519, 0.001866674, 0.000700382, 0.000646795, 0.002193126, 0.000024346, 0.002238587, 0.001710590, 0.001863196, 0.002295884, 0.000270464, -0.000320043, 0.001777243, 0.001176993, -0.000210139, 0.001030664, 0.001600614, 0.001402663, 0.000766314, 0.000242045, 0.000800993, 0.001056717, 0.002071610, 0.000528423, 0.001320026, 0.001713004, 0.002018059, -0.000118465, 0.000743737, 0.002591814, 0.001188870, 0.001377717, 0.001914284, 0.001763859, 0.001653475, 0.001257983, 0.000749369, 0.000665950, 0.001144137, 0.001125725, 0.002235220, 0.000719202, 0.001448801, 0.001576317, 0.000999252, 0.001119898, 0.002100634, 0.001486702, 0.001180069, 0.001410851, 0.001015667, 0.000215609, 0.001245440, 0.001072757, 0.001285639, 0.000862238, 0.001430213, 0.001254528, 0.001080305, 0.000395750, 0.001844118, 0.000880808, 0.001147973, 0.000866782, 0.002018057, 0.000572814, 0.001456111, 0.001831579, 0.001662477, 0.001670134, 0.001173836, 0.001187285, 0.000950561, 0.002132206, 0.001133690, 0.001759350, 0.002003165, 0.000808975, 0.002293085, -0.000612969, 0.000913673, 0.000773470, 0.000845817, 0.001541694, 0.000992895, 0.001568262, 0.002402943, 0.000663158, 0.000536261, -0.000416688, 0.000823004, 0.000503102, 0.001474602, 0.000673582, 0.000689933, 0.000527846, 0.001048104, 0.001381498, 0.000899384, 0.001344590, 0.000603665, 0.000860589, -0.000340764, 0.000355654, 0.001281071, 0.001321955, 0.002148155, 0.000059522, 0.001245016, 0.000941524, 0.000902723, 0.000376289, 0.001303210, 0.000727161, 0.000358476, 0.000620360, 0.000759308, 0.002486423, -0.000379087, -0.000389544, -0.000373340, 0.001418199, 0.001132727, 0.000124616, 0.001211099, 0.000707292, 0.000796886, 0.000955239, 0.000268317, 0.000890258, 0.001802647, 0.000944445, -0.000056952, 0.000602356, 0.000160475, 0.000817309, 0.000294565, 0.001954548, 0.002025441, 0.001814421, 0.000655457, 0.000599865, 0.000840940, 0.001850523, 0.001006975, 0.000312347, 0.001158780];
    var pointY = [-19.304025568, -19.303094906, -19.308835955, -19.304433197, -19.306092772, -19.303077315, -19.303334675, -19.304844400, -19.300678056, -19.303376093, -19.303847230, -19.307496492, -19.306073158, -19.301572588, -19.305072796, -19.305357156, -19.303885153, -19.311175465, -19.307918862, -19.301697488, -19.303121065, -19.304389778, -19.306400582, -19.304127342, -19.302879895, -19.306277452, -19.305821891, -19.306543447, -19.305292815, -19.303433572, -19.309660555, -19.303036220, -19.307149352, -19.303798321, -19.305871822, -19.300881326, -19.303220919, -19.304968790, -19.307235462, -19.306848549, -19.303783546, -19.304236238, -19.306992023, -19.304281038, -19.304167686, -19.308643129, -19.303424174, -19.304335741, -19.305635617, -19.307201928, -19.305359226, -19.304241526, -19.304921324, -19.304511751, -19.303799150, -19.307549184, -19.303763721, -19.307859791, -19.305003047, -19.305561599, -19.303602588, -19.310745988, -19.306635541, -19.307319029, -19.307668018, -19.302967783, -19.306634520, -19.304754548, -19.304990746, -19.303927464, -19.303886939, -19.307472513, -19.305258827, -19.304765331, -19.303521770, -19.303612522, -19.306194336, -19.305364940, -19.303322521, -19.304559943, -19.303766684, -19.304143804, -19.308304025, -19.306706423, -19.306791170, -19.306332584, -19.306505279, -19.297485072, -19.304368458, -19.303788124, -19.303177538, -19.303270243, -19.303771427, -19.301714171, -19.306148550, -19.306427567, -19.306692858, -19.306826310, -19.303643676, -19.306915990, -19.301540248, -19.303633350, -19.309769775, -19.305315284, -19.302973462, -19.307221879, -19.306125985, -19.304039101, -19.302223898, -19.305729858, -19.307800817, -19.304343896, -19.307241827, -19.309131863, -19.305657241, -19.305105898, -19.307170952, -19.305905715, -19.306976461, -19.303941580, -19.306089267, -19.303681763, -19.302280322, -19.300587268, -19.304774308, -19.302373488, -19.304235855, -19.307805624, -19.301798596, -19.303510439, -19.304863839, -19.308001969, -19.303782945, -19.306044463, -19.304942673, -19.303194143, -19.307563798, -19.304282837, -19.305192478, -19.308408628, -19.305516063, -19.305108212, -19.306916373, -19.305876927, -19.300910003, -19.306108935, -19.303140739, -19.302988372, -19.302525462, -19.305669261, -19.303144497, -19.305202106, -19.300923740, -19.302941485, -19.305592804, -19.304421080, -19.304568613, -19.305573399, -19.307627822, -19.304335042, -19.307474934, -19.303009831, -19.305941812, -19.303313450, -19.304080472, -19.304784897, -19.303819617, -19.300943257, -19.305596498, -19.304555484, -19.305701322, -19.303330993, -19.306793619, -19.301834123, -19.307133390, -19.307756418, -19.304111851, -19.301067542, -19.306860932, -19.305385497, -19.302745444, -19.308602065, -19.307169244, -19.302270276, -19.305719949, -19.303958175, -19.304954369, -19.306235374, -19.307469359, -19.303446298, -19.304892717, -19.303923766, -19.302581521, -19.306377559, -19.306342813, -19.304754205, -19.304892246, -19.301672596, -19.307651346, -19.305994413, -19.306522058, -19.303820142, -19.309195548, -19.304675405, -19.302715604, -19.302251226, -19.308464228, -19.304518863, -19.302352136, -19.309871664, -19.303039482, -19.305611362, -19.304201943, -19.306360963, -19.304709192, -19.303573818, -19.303297225, -19.303656430, -19.307673510, -19.307673798, -19.306543858, -19.300760330, -19.309499393, -19.302956150, -19.304264922, -19.299665663, -19.305417743, -19.303742089, -19.307617182, -19.303028299, -19.302395193, -19.305875614, -19.303152616, -19.303651203, -19.307330692, -19.307061838, -19.305157952, -19.303817805, -19.302552516, -19.304389104, -19.307190697, -19.303399475, -19.304729704, -19.309111038, -19.305488521, -19.302337587, -19.304238971, -19.303890472, -19.305810689, -19.303259672, -19.303455575, -19.306477171, -19.305024198, -19.303163094, -19.307389812, -19.307266849, -19.305676293, -19.304933802, -19.305279677, -19.303054200, -19.300445395, -19.305222528, -19.309030418, -19.308437972, -19.304129973, -19.305386937, -19.306063250, -19.306692943, -19.301569778, -19.305622699, -19.304821059, -19.303980614, -19.303596834, -19.300511516, -19.304407546, -19.307548928, -19.303538971, -19.301748171, -19.305708585, -19.304488923, -19.303810936, -19.300466835, -19.304748736, -19.305053263, -19.302491076, -19.303105274, -19.304322683, -19.303162569, -19.302572092, -19.310159182, -19.306691474, -19.307533459, -19.303614357, -19.302286518, -19.302348771, -19.307024921, -19.310175257, -19.304781143, -19.301544500, -19.305434956, -19.305993875, -19.303025643, -19.305020640, -19.306329838, -19.303250061, -19.305140472, -19.307887628, -19.305650300, -19.307452171, -19.308758643, -19.302473562, -19.305205755, -19.303520701, -19.301579930, -19.307087347, -19.306503123, -19.305205551, -19.305131125, -19.305310158, -19.304347927, -19.302906349, -19.301750901, -19.305233793, -19.303894815, -19.302828494, -19.306410352, -19.308506366, -19.305353601, -19.304810537, -19.306389288, -19.301234471, -19.306007685, -19.311152527, -19.306538852, -19.303625503, -19.304973086, -19.303034476, -19.303503711, -19.308004455, -19.301494095, -19.302149790, -19.304214672, -19.303459517, -19.304486869, -19.303555690, -19.305449244, -19.306931008, -19.304470958, -19.306616823, -19.305208999, -19.305085223, -19.303647901, -19.302558666, -19.306502118, -19.307557826, -19.305954410, -19.305158495, -19.308859885, -19.304615066, -19.299271833, -19.306332043, -19.306242303, -19.305479638, -19.307177854, -19.307441433, -19.300827852, -19.305301615, -19.307081340, -19.304745872, -19.305862778, -19.305881688, -19.302293308, -19.304315583, -19.304972566, -19.303636552, -19.304616712, -19.308574119, -19.301806818, -19.304578061, -19.305425459, -19.305997755, -19.306952063, -19.307613802, -19.304393596, -19.306623139, -19.304779315, -19.304841070, -19.305075333, -19.302696063, -19.306183712, -19.304071406, -19.301676885, -19.306573100, -19.302786901, -19.301058256, -19.304127828, -19.303516452, -19.302705127, -19.300332233, -19.302129163, -19.304371933, -19.304326662, -19.303807832, -19.305035833, -19.304885371, -19.308499733, -19.303847056, -19.303543286, -19.306024184, -19.302500220, -19.305674464, -19.303711396, -19.306135783, -19.306024264, -19.300781523, -19.303561681, -19.306613029, -19.304682691, -19.302105600, -19.307878748, -19.303923839, -19.306800804, -19.307655800, -19.304816623, -19.307789913, -19.307814533, -19.305937566, -19.304827368, -19.303277103, -19.302327175, -19.302647813, -19.302197741, -19.309458710, -19.307616634, -19.306494822, -19.302390332, -19.302651702, -19.306013324, -19.303124608, -19.305119996, -19.306866126, -19.304827196, -19.305341708, -19.304706952, -19.305627883, -19.307110471, -19.306900332, -19.306915404, -19.302883200, -19.306086527, -19.306403896, -19.305512861, -19.305804949, -19.305508471, -19.302526647, -19.305863047, -19.302598189, -19.303072189, -19.302827388, -19.303632378, -19.304928773, -19.305646312, -19.305643734, -19.308309233, -19.307248148, -19.302531494, -19.309960641, -19.306675823, -19.303654918, -19.299290352, -19.302961691, -19.305944345, -19.304941892, -19.305171660, -19.306612871, -19.307049091, -19.306777800, -19.303425612, -19.303376501, -19.305347367, -19.307033266, -19.304177816, -19.309590080, -19.302804478, -19.304243687, -19.303480148, -19.308801562, -19.311537511, -19.303301047, -19.304576347, -19.301862873, -19.305781261, -19.300724285, -19.304480776, -19.302081669, -19.306886463, -19.305961405, -19.299525763, -19.299016849, -19.303580169, -19.308008820, -19.306786230, -19.303515830, -19.304852790, -19.305080133, -19.303829043, -19.307776690, -19.302347057, -19.306222807, -19.304615108, -19.304031297, -19.307519587, -19.305416288, -19.306927560, -19.303548804, -19.305193811, -19.304911422, -19.304039582, -19.306558201, -19.306165559, -19.306386146, -19.301019273, -19.305793764, -19.306210787, -19.302470268, -19.306989954, -19.308865857, -19.305935760, -19.304883133, -19.304817468, -19.306984376, -19.306268729, -19.304237017, -19.305215089, -19.305377574, -19.304054974, -19.304565027, -19.303693593, -19.306859993, -19.300041522, -19.301907297, -19.302815430, -19.303611227, -19.307257735, -19.307497340, -19.307148967, -19.305820417, -19.303492213, -19.304405138, -19.301905523, -19.302752111, -19.308699808, -19.304486054, -19.306551945, -19.305547944, -19.306084918, -19.306915306, -19.303272155, -19.306296606, -19.303190752, -19.303853479, -19.302872625, -19.305882066, -19.304151264, -19.307405444, -19.309312601, -19.303499276, -19.302684156, -19.303587605, -19.305024377, -19.303402449, -19.305917536, -19.307417670, -19.305447858, -19.305411083, -19.305403818, -19.307672612, -19.305461034, -19.306966973, -19.308075898, -19.303593144, -19.305619306, -19.305220705, -19.303910058, -19.304040629, -19.305563209, -19.305412832, -19.306437018, -19.303391793, -19.302429450, -19.304457756, -19.305349739, -19.307385877, -19.301356882, -19.307537447, -19.307502254, -19.302034406, -19.307742983, -19.301968317, -19.306250095, -19.299450750, -19.304902172, -19.306213083, -19.307759058, -19.305060593, -19.302157090, -19.305717571, -19.303276644, -19.304308251, -19.303522236, -19.304359321, -19.308089166, -19.307543889, -19.309337523, -19.306489451, -19.303464948, -19.302933599, -19.306518472, -19.305990836, -19.308802873, -19.305442479, -19.304907593, -19.304927198, -19.304924172, -19.305221092, -19.310363257, -19.303000505, -19.309353668, -19.301216691, -19.305459104, -19.305458752, -19.305062230, -19.305180987, -19.303926509, -19.305828718, -19.302899796, -19.304705010, -19.304267318, -19.301828933, -19.301142535, -19.304985986, -19.304981258, -19.301465733, -19.305294875, -19.308080134, -19.306713702, -19.304430056, -19.305515823, -19.304859561, -19.299767288, -19.300804273, -19.304768312, -19.300116073, -19.304992801, -19.302515470, -19.304396358, -19.304989953, -19.303216712, -19.305105715, -19.305358993, -19.303440828, -19.300814459, -19.307017907, -19.304573413, -19.305148669, -19.303913065, -19.301658468, -19.304403115, -19.305135485, -19.305951511, -19.302866329, -19.305884163, -19.306658927, -19.305385557, -19.303738366, -19.305421794, -19.309013901, -19.303306894, -19.305342354, -19.309220246, -19.305630652, -19.304937441, -19.304771175, -19.302642261, -19.308799575, -19.300434266, -19.303431560, -19.305898143, -19.302765942, -19.305572936, -19.308236602, -19.301865194, -19.304929595, -19.307365676, -19.307734115, -19.303719848, -19.304360013, -19.303230860, -19.302236823, -19.308019732, -19.304494922, -19.302190338, -19.308304219, -19.305901863, -19.304065471, -19.301767293, -19.302119663, -19.304471888, -19.304031927, -19.303342987, -19.303242941, -19.307775098, -19.306181818, -19.307968841, -19.303684908, -19.305918609, -19.304406664, -19.305700720, -19.305863829, -19.306274839, -19.305387098, -19.307627939, -19.302074833, -19.303792740, -19.307577224, -19.305612725, -19.308107663, -19.309349593, -19.306176639, -19.304462757, -19.302663832, -19.305714700, -19.306180897, -19.304043290, -19.304080386, -19.309345107, -19.308475411, -19.307348958, -19.304090956, -19.306680260];

    xMinMax = d3.extent(pointX);
    yMinMax = d3.extent(pointY);

    var points = [[pointX[0], pointY[0]]];
    for (var i=1; i<pointX.length; i++) {
        //points.push([(pointX[i]-xMinMax[0])/(xMinMax[1]-xMinMax[0])*960+100, (pointY[i]-yMinMax[0])/(yMinMax[1] - yMinMax[0])*500+50]);
        points.push([pointX[i], pointY[i]]);
    }

    var x = d3.scaleLinear()
            .domain([xMinMax[0], xMinMax[1]])
            .range([-1, width+1]);

    var y = d3.scaleLinear()
            .domain([yMinMax[0], yMinMax[1]])
            .range([-1, height+1]);

    var xAxis = d3.axisBottom(x)
            .ticks((width + 2) / (height + 2) * 10)
            .tickSize(height)
            .tickPadding(8 - height);

    var yAxis = d3.axisRight(y)
            .ticks(10)
            .tickSize(width)
            .tickPadding(8 - width);

    var gX = svg.append("g")
        .attr("class", "axis axis--x")
        .call(xAxis);

    var gY = svg.append("g")
        .attr("class", "axis axis--y")
        .call(yAxis);

    var view = svg.append("rect")
            .attr("class", "view")
            .attr("x", 0.5)
            .attr("y", 0.5)
            .attr("width", width - 1)
            .attr("height", height - 1);

    svg.append("rect")
        .attr("class", "zoom")
        .attr("width", width)
        .attr("height", height)
        .call(d3.zoom()
            .scaleExtent([1, 40])
            .translateExtent([[-100, -100], [width+90, height+100]])
            .on("zoom", zoomed));

    function zoomed() {
        view.attr("transform", d3.event.transform);
        gX.call(xAxis.scale(d3.event.transform.rescaleX(x)));
        gY.call(yAxis.scale(d3.event.transform.rescaleY(y)));
        //render();
    }

    function render() {
        d3.select("svg").remove();
        context.save();
        context.clearRect(0, 0, width, height);
        context.beginPath();
        context.translate(transform.x, transform.y);
        context.scale(transform.k, transform.k);
        points.forEach(drawPoint);
        context.fill();
        context.restore();
    }

    function drawPoint(point) {
        context.moveTo(point[0] + radius, point[1]);
        context.arc(point[0], point[1], radius, 0, 2 * Math.PI);
    }

    /*
    function zoomed() {
        transform = d3.event.transform;
        view.attr("transform", d3.event.transform);
        gX.call(xAxis.scale(d3.event.transform.rescaleX(x)));
        gY.call(yAxis.scale(d3.event.transform.rescaleY(y)));
        render();
    }


    function dragsubject() {
        var i,
            x = transform.invertX(d3.event.x),
            y = transform.invertY(d3.event.y),
            dx,
            dy;

        for (i=points.length-1; i>=0; --i) {
            point = points[i];
            dx = x - point[0];
            dy = y - point[1];
            if (dx * dx + dy * dy < radius * radius) {
                point.x = transform.applyX(point[0]);
                point.y = transform.applyY(point[1]);
                return point;
            }
        }
    }

    function dragged() {
        d3.event.subject[0] = transform.invertX(d3.event.x);
        d3.event.subject[1] = transform.invertY(d3.event.y);
        render();
    }


    function render() {
        context.save();
        context.clearRect(0, 0, width, height);
        context.beginPath();
        context.translate(transform.x, transform.y);
        context.scale(transform.k, transform.k);
        points.forEach(drawPoint);
        context.fill();
        context.restore();
    }

    function drawPoint(point) {
        //alert(point);
        context.moveTo(point[0] + radius, point[1]);
        context.arc(point[0], point[1], radius, 0, 2 * Math.PI);
    }

    function phyllotaxis(radius) {
        var theta = Math.PI * (3 - Math.sqrt(5));
        return function(i) {
            var r = radius * Math.sqrt(i), a = theta * i;
            return [width/2 + r * Math.cos(a), height/2 + r * Math.sin(a)];
        };
    }
    */

</script>


